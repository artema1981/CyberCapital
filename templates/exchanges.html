{% extends 'base.html' %}

{% block content %}

        <div class="bd-example-snippet bd-code-snippet"><div class="bd-example">
        <table class="table table-striped">

          <thead>
          <tr>
            <th scope="col">Exchanges</th>
            <th scope="col">API key</th>
            <th scope="col">ping</th>
            <th scope="col">add/update API</th>
          </tr>
          </thead>
          <tbody>
          {% for i in exchange_list %}

          <tr>
              <th scope="row">{{ i.exchange }}</th>
              <td>{{ i.api }}</td>
              {% if i.api %}
                  <td>
                        {% if i.ping %}
                            <a>{{ i.ping }}</a>
                        {% else %}
                            <a href="{% url 'connect' %}?exchange={{ i.exchange }}&api_pk={{ i.api_pk }}">test ping</a>
                        {% endif %}
                  </td>

                  <td>
                      <a href="{% url 'api_update' i.api_pk %}">update</a>
                      <a> | </a>
                      <a href="{% url 'api_delete' i.api_pk %}">delete</a>
                  </td>
              {% else %}
                  <td><a>no connection</a></td>
                  <td><a href="{% url 'api_add' %}?exchange_id={{ i.exchange }}">add</a></td>
              {% endif %}

          </tr>
          {% endfor %}



            <!--
          <tr>
            <th scope="row">2</th>
            <td>Jacob</td>
            <td>Thornton</td>
            <td>@fat</td>
          </tr>
          <tr>
            <th scope="row">3</th>
            <td colspan="2">Larry the Bird</td>
            <td>@twitter</td>
          </tr>
          -->
          </tbody>

        </table>
        </div></div>




{% endblock %}